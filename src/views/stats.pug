extends ../_layout/default.pug

block styles

block scripts
  if !starter
    // Plugins and scripts required by this view
    script(src='/vendors/@coreui/utils/js/index.js')
    script(src='/js/main.js')

block breadcrumb
    +breadcrumb(
    [
      { href: '/', label: 'Home'},
      { label: 'Statistics'}
    ]
  )

block view
  .row
    .col-md-12
      .mb-4
        .progress(style='height: 3rem; font-size: 1.8em; font-weight: bold; background-color: rgb(50, 58, 73)')
          .progress-bar.bg-info.progress-bar.progress-bar-striped.progress-bar-animated(id="epoch-progress" role='progressbar' style='width: 10%; overflow: visible;' aria-valuenow='50' aria-valuemin='0' aria-valuemax='100')
            span(style="margin: 0.5em;") Qubic epoch
              | 
              span.value 101: 53.5%
      .mb-4
        .table-responsive
            table.table.table-striped.border.mb-0
              thead.fw-semibold.text-nowrap
                tr.align-middle
                  th.bg-body-secondary Alias
                  th.bg-body-secondary(title="Average hashrate in the epoch") Avg. hashrate
                  th.bg-body-secondary.text-center Activity in the epoch
                  th.bg-body-secondary.text-center Status
                  th.bg-body-secondary Start activity
                  th.bg-body-secondary Last activity
              tbody
                each worker in workers
                  tr
                    td= worker[0]
                    td #{worker[1]} It/s
                    td
                      .d-flex.justify-content-between.align-items-baseline
                        .fw-semibold #{worker[2]}%
                        //.text-nowrap.small.text-body-secondary.ms-3 Jun 11, 2023 - Jul 10, 2023
                      .progress.progress-thin
                        if worker[2] >= 80
                          .progress-bar.bg-success(role='progressbar', style=`width: ${worker[2]}%`, aria-valuenow=worker[2], aria-valuemin='0', aria-valuemax='100')
                        else if worker[2] >= 30
                          .progress-bar.bg-warning(role='progressbar', style=`width: ${worker[2]}%`, aria-valuenow=worker[2], aria-valuemin='0', aria-valuemax='100')
                        else if worker[2] >= 1
                          .progress-bar.bg-danger(role='progressbar', style=`width: ${worker[2]}%`, aria-valuenow=worker[2], aria-valuemin='0', aria-valuemax='100')
                        else
                          .progress-bar.bg-info(role='progressbar', style=`width: ${worker[2]}%`, aria-valuenow=worker[2], aria-valuemin='0', aria-valuemax='100')
                    td.text-center
                      if worker[2] >= 80
                        <span class="badge me-1 bg-success">Success</span>
                      else if worker[2] >= 30
                        <span class="badge me-1 bg-warning">Warning</span>
                      else if worker[2] >= 1
                        <span class="badge me-1 bg-danger">Danger</span>
                      else
                        <span class="badge me-1 bg-dark">Dead</span>
                    td= worker[3]
                    td= worker[4]

      .mb-4    
        h2 Miners
        .table-responsive
            table.table.table-striped.border.mb-0
              thead.fw-semibold.text-nowrap
                tr.align-middle
                  th.bg-body-secondary Miners
                  th.bg-body-secondary(title="Average hashrate in the epoch") Avg. hashrate
                  th.bg-body-secondary(title="Percentage of total contribution") Prct. (PPSTI)
                  th.bg-body-secondary(title="Current solutions") Current sols (%)
                  th.bg-body-secondary(title="Potential solutions per epoch") Potential sols
                  th.bg-body-secondary(title="Potential revenue per epoch") Potential revenue
              tbody
                //--tr.align-middle
                  td.text-info 
                    b User 1
                  td.text-info
                    b 921 It/s
                  td.text-info
                    b 8.12%
                  td.text-info
                    b 3
                  td.text-info
                    b 3.2
                  td.text-info
                    b 3.2
                each user in users
                  tr
                    td= user[0]
                    td #{user[2]} It/s
                    td #{user[2]}%
                    td= user[3]
                    td= user[4]
                    td #{user[5]}$
               
    // /.col
  // /.row
