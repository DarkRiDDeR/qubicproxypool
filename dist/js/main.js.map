{"version":3,"file":"main.js","names":["initialEpoch","elEpochProgress","document","getElementById","tick","date","Date","progress","getTime","epoch","Math","floor","round","style","width","querySelector","textContent","setInterval","elFormsAuth","querySelectorAll","form","Array","prototype","slice","call","addEventListener","e","preventDefault","currentTarget","msgError","console","log","action","method","response","fetch","result","json","success","message","error","input","classList","add","remove"],"sources":["../../src/js/main.js"],"sourcesContent":["/* global */\n\n/**\n * --------------------------------------------------------------------------\n * CoreUI Boostrap Admin Template main.js\n * Licensed under MIT (https://github.com/coreui/coreui-free-bootstrap-admin-template/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst initialEpoch = [103, 1712145600000] // [number, timestamp in milliseconds]\nconst elEpochProgress = document.getElementById('epoch-progress')\nif (elEpochProgress) {\n  const tick = () => {\n    const date = new Date()\n    let progress = (date.getTime() - initialEpoch[1]) / 604800000\n    let epoch = Math.floor(progress)\n    progress = Math.round((progress - epoch) * 10000) / 100\n    epoch += initialEpoch[0]\n    elEpochProgress.style.width = `${progress}%`\n    elEpochProgress.querySelector('.value').textContent = `${epoch}: ${progress}%`\n  }\n  tick()\n  setInterval(tick, 60000)\n}\n\nconst elFormsAuth = document.querySelectorAll('.form-auth')\nfor (const form of Array.prototype.slice.call(elFormsAuth)) {\n  form.addEventListener('submit', e => (async e => {\n    e.preventDefault()\n    const form = e.currentTarget\n    let msgError = null\n    try {\n      console.log([form.action, form.method])\n      const response = await fetch(form.action, {\n        method: form.method,\n        //body: new FormData(form)\n      })\n      const result = await response.json()\n\n      if (!result.success) {\n        msgError = result.message\n      }\n    } catch (error) {\n      msgError = 'Error processing data from the server'\n    }\n\n    if (msgError) {\n      form.querySelector('.invalid-feedback').textContent = msgError\n      for (const input of form.querySelectorAll('input')) {\n        input.classList.add('is-invalid')\n      }\n      form.classList.remove('was-validated')\n    } else {\n      for (const input of form.querySelectorAll('input')) {\n        input.classList.remove('is-invalid')\n      }\n      form.classList.add('was-validated')\n    }\n  })(e))\n}\n\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMA,YAAY,GAAG,CAAC,GAAG,EAAE,aAAa,CAAC,EAAC;AAC1C,MAAMC,eAAe,GAAGC,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC;AACjE,IAAIF,eAAe,EAAE;EACnB,MAAMG,IAAI,GAAGA,CAAA,KAAM;IACjB,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC;IACvB,IAAIC,QAAQ,GAAG,CAACF,IAAI,CAACG,OAAO,CAAC,CAAC,GAAGR,YAAY,CAAC,CAAC,CAAC,IAAI,SAAS;IAC7D,IAAIS,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACJ,QAAQ,CAAC;IAChCA,QAAQ,GAAGG,IAAI,CAACE,KAAK,CAAC,CAACL,QAAQ,GAAGE,KAAK,IAAI,KAAK,CAAC,GAAG,GAAG;IACvDA,KAAK,IAAIT,YAAY,CAAC,CAAC,CAAC;IACxBC,eAAe,CAACY,KAAK,CAACC,KAAK,GAAI,GAAEP,QAAS,GAAE;IAC5CN,eAAe,CAACc,aAAa,CAAC,QAAQ,CAAC,CAACC,WAAW,GAAI,GAAEP,KAAM,KAAIF,QAAS,GAAE;EAChF,CAAC;EACDH,IAAI,CAAC,CAAC;EACNa,WAAW,CAACb,IAAI,EAAE,KAAK,CAAC;AAC1B;AAEA,MAAMc,WAAW,GAAGhB,QAAQ,CAACiB,gBAAgB,CAAC,YAAY,CAAC;AAC3D,KAAK,MAAMC,IAAI,IAAIC,KAAK,CAACC,SAAS,CAACC,KAAK,CAACC,IAAI,CAACN,WAAW,CAAC,EAAE;EAC1DE,IAAI,CAACK,gBAAgB,CAAC,QAAQ,EAAEC,CAAC,IAAI,CAAC,MAAMA,CAAC,IAAI;IAC/CA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,MAAMP,IAAI,GAAGM,CAAC,CAACE,aAAa;IAC5B,IAAIC,QAAQ,GAAG,IAAI;IACnB,IAAI;MACFC,OAAO,CAACC,GAAG,CAAC,CAACX,IAAI,CAACY,MAAM,EAAEZ,IAAI,CAACa,MAAM,CAAC,CAAC;MACvC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACf,IAAI,CAACY,MAAM,EAAE;QACxCC,MAAM,EAAEb,IAAI,CAACa;QACb;MACF,CAAC,CAAC;MACF,MAAMG,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAEpC,IAAI,CAACD,MAAM,CAACE,OAAO,EAAE;QACnBT,QAAQ,GAAGO,MAAM,CAACG,OAAO;MAC3B;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdX,QAAQ,GAAG,uCAAuC;IACpD;IAEA,IAAIA,QAAQ,EAAE;MACZT,IAAI,CAACL,aAAa,CAAC,mBAAmB,CAAC,CAACC,WAAW,GAAGa,QAAQ;MAC9D,KAAK,MAAMY,KAAK,IAAIrB,IAAI,CAACD,gBAAgB,CAAC,OAAO,CAAC,EAAE;QAClDsB,KAAK,CAACC,SAAS,CAACC,GAAG,CAAC,YAAY,CAAC;MACnC;MACAvB,IAAI,CAACsB,SAAS,CAACE,MAAM,CAAC,eAAe,CAAC;IACxC,CAAC,MAAM;MACL,KAAK,MAAMH,KAAK,IAAIrB,IAAI,CAACD,gBAAgB,CAAC,OAAO,CAAC,EAAE;QAClDsB,KAAK,CAACC,SAAS,CAACE,MAAM,CAAC,YAAY,CAAC;MACtC;MACAxB,IAAI,CAACsB,SAAS,CAACC,GAAG,CAAC,eAAe,CAAC;IACrC;EACF,CAAC,EAAEjB,CAAC,CAAC,CAAC;AACR"}